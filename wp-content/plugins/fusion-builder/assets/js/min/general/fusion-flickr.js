!function(t){"use strict";function e(e,a){const i=e.dataset.id,s=e.dataset.count,o=e.dataset.api_key,c=e.dataset.link_type,r=e.dataset.link_target,n=e.dataset.lazy,l=`https://api.flickr.com/services/rest/?format=json&method=flickr.photos.search&api_key=${o}&user_id=${i}&per_page=${s}&nojsoncallback=1`,h=(Math.random()+1).toString(36).substring(7);var d=e.offsetWidth,m=getComputedStyle(e).gridTemplateColumns.split(" ").length,p=parseInt(d/m),f="(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)";t.getJSON(l,function(i){if("ok"!=i.stat)return;let s="s";switch(!0){case 75<=p&&149>=p:s="q",matchMedia(f).matches&&(s="m");break;case 150<=p&&239>=p:s="m",matchMedia(f).matches&&(s="n");break;case 240<=p&&319>=p:s="n",matchMedia(f).matches&&(s="w");break;case 320<=p&&399>=p:s="w",matchMedia(f).matches&&(s="z");break;case 400<=p&&639>=p:s="z",matchMedia(f).matches&&(s="c");break;case 640<=p&&799>=p:s="c",matchMedia(f).matches&&(s="b");break;case 800<=p:s="b"}a&&(s="c");let o="";for(let t=0;t<i.photos.photo.length;t++){const e=i.photos.photo[t],a="//farm"+e.farm+".static.flickr.com/"+e.server+"/"+e.id+"_"+e.secret+"_"+s+".jpg";let l="//www.flickr.com/photos/"+e.owner+"/"+e.id;"lightbox"===c&&(l="//farm"+e.farm+".static.flickr.com/"+e.server+"/"+e.id+"_"+e.secret+"_b.jpg");const d=[];c&&d.push('href="'+l+'"'),d.push('data-title="'+e.title+'"'),r&&d.push('target="'+r+'"'),"lightbox"===c&&d.push('data-rel="iLightbox['+h+']"');const m=[];let f='src="'+a+'"';const u=`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${p}' height='auto' viewBox='0 0 ${p} auto'%3E%3Crect width='${p}' height='100%25' fill='%23ff0' fill-opacity='0'/%3E%3C/svg%3E`;m.push('alt="'+e.title+'"'),"avada"===n?(f='src="'+u+'"',m.push('data-orig-src="'+a+'"'),m.push('class="lazyload"')):"wordpress"===n&&m.push('loading="lazy"'),m.push(f),o+='<div class="flickr-image"><a '+d.join(" ")+"><img "+m.join(" ")+"/></a></div>"}e.innerHTML=o,a&&!window.fusionFlickrItems&&(window.fusionFlickrItems=o),e.classList.remove("loading"),"lightbox"===c&&t(e).find("a").iLightBox(window.avadaLightBox.prepare_options(h,!1))})}t(".fusion-flickr-element").each(function(){e(this)}),t(window).on("load fusion-element-render-fusion_flickr",function(t,a){const i=document.querySelector(`[data-cid="${a}"] .fusion-flickr-element`);i&&e(i,!0)})}(jQuery);